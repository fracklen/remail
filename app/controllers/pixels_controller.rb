class PixelsController < ApplicationController
  PIXEL_DATA = [
    0x47, 0x49, 0x46, 0x38, 0x39, 0x61, 0x1, 0x0, 0x1, 0x0,
    0x80, 0xff, 0x0, 0xc0, 0xc0, 0xc0, 0x0, 0x0, 0x0, 0x21,
    0xf9, 0x4, 0x1, 0x0, 0x0, 0x0, 0x0, 0x2c, 0x0, 0x0, 0x0,
    0x0, 0x1, 0x0, 0x1, 0x0, 0x0, 0x1, 0x1, 0x32, 0x0, 0x3b
  ]

  def show
    TrackingPixelService.process_open(params[:id], request)

    pixel_text = String.new
    PIXEL_DATA.each do |data|
      pixel_text << data
    end
    render text: pixel_text, content_type: 'image/gif'
  end
end
